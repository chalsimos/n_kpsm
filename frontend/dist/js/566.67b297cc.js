"use strict";(self["webpackChunkKPSM"]=self["webpackChunkKPSM"]||[]).push([[566],{96870:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ve}});var r=t(56768),o=t(24232),s=t(45130);const d={class:"flex flex-col min-h-screen"},l={class:"p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700 mt-14"},i=(0,r.Lk)("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"}," Patient Information ",-1),n={class:"grid md:grid-cols-3 md:gap-3 whitespace-nowrap"},c={class:"mb-5"},u=(0,r.Lk)("label",{for:"FirstName",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"First Name",-1),g={class:"mb-5"},b=(0,r.Lk)("label",{for:"MiddleName",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Middle Name",-1),m={class:"mb-5"},h=(0,r.Lk)("label",{for:"LastName",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Last Name",-1),k={class:"grid md:grid-cols-3 md:gap-3 whitespace-nowrap"},p={class:"mb-5"},y=(0,r.Lk)("label",{for:"Birthday",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Birthday",-1),f={class:"relative max-w-full"},x=(0,r.Lk)("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[(0,r.Lk)("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"},[(0,r.Lk)("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})])],-1),v={class:"mb-5"},w=(0,r.Lk)("label",{for:"Age",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Age",-1),L={class:"mb-5"},C=(0,r.Lk)("label",{for:"Gender",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Gender",-1),S=(0,r.Lk)("option",{value:"",disabled:"",selected:""},"Choose Gender",-1),q=(0,r.Lk)("option",{value:"Male"},"Male",-1),I=(0,r.Lk)("option",{value:"Female"},"Female",-1),O=[S,q,I],M={class:"mb-5"},_=(0,r.Lk)("label",{for:"Civil Status",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Civil Status",-1),R=(0,r.Fv)('<option value="" disabled selected>Civil Status</option><option value="Single">Single</option><option value="Married">Married</option><option value="Separated or Divorced">Separated or Divorced</option><option value="Widowed">Widowed</option>',5),V=[R],D={class:"mb-5"},N=(0,r.Lk)("label",{for:"FullName",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Benificiary Fullname",-1),T={class:"mb-5"},A=(0,r.Lk)("label",{for:"ContactNumber",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Contact Number",-1),B=(0,r.Lk)("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"}," Address ",-1),F={class:"grid md:grid-cols-3 md:gap-3 whitespace-nowrap"},E={class:"mb-5"},U=(0,r.Lk)("label",{for:"Province",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Province",-1),H=(0,r.Lk)("option",{value:"1752"},"Oriental Mindoro",-1),P=[H],J={class:"mb-5"},G=(0,r.Lk)("label",{for:"Municipality",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Municipality",-1),j=(0,r.Lk)("option",{disabled:"",selected:"",value:""},"Select City",-1),X=["value"],Y={class:"mb-5"},K=(0,r.Lk)("label",{for:"Barangay",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Barangay",-1),z=(0,r.Lk)("option",{disabled:""},"Select Barangay",-1),Z=["value"],W={class:"mb-5"},$=(0,r.Lk)("label",{for:"Sitio",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Sitio",-1),Q=(0,r.Lk)("h2",{class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"}," ID Information ",-1),ee={class:"grid md:grid-cols-3 md:gap-3 whitespace-nowrap"},ae={class:"mb-5"},te=(0,r.Lk)("label",{for:"IDNO",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"ID Number",-1),re={class:"mb-5"},oe=(0,r.Lk)("label",{for:"TypeOfRequest",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Type of ID",-1),se=(0,r.Fv)('<option value="" disabled selected>Choose Type of ID</option><option value="LABORATORY">Pag-Ibig</option><option value="HOSPITAL BILL">Postal</option><option value="CHEMOTHERAPY">Driver&#39;s License</option><option value="ENDOSCOPY">Philhealth</option><option value="CT-SCAN">Passport ID</option><option value="2D ECHO">Umid ID</option><option value="OTHERS">Others</option>',8),de=[se],le={key:0,class:"mb-4"},ie=(0,r.Lk)("label",{for:"OtherRequest",class:"block text-sm font-medium text-gray-900 dark:text-white"},"Other Type of ID",-1),ne=["disabled"],ce=(0,r.Lk)("div",{class:"flex justify-end"},[(0,r.Lk)("button",{type:"submit",class:"text-white bg-orange-900 hover:bg-orange-800 focus:ring-4 focus:outline-none focus:ring-orange-300 font-medium rounded-lg text-sm w-full py-2.5 text-center dark:bg-orange-600 dark:hover:bg-orange-700 dark:focus:ring-orange-800 lg:w-40 lg:ml-auto"}," Submit ")],-1),ue={id:"static-modal","data-modal-backdrop":"static",tabindex:"-1","aria-hidden":"true",class:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 bottom-0 left-0 z-50 flex justify-center items-center"},ge={class:"relative p-4 sm:px-6 sm:py-8 lg:px-8 lg:py-10 w-full max-w-md sm:max-w-lg md:max-w-xl lg:max-w-2xl max-h-full"},be={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},me=(0,r.Lk)("div",{class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},[(0,r.Lk)("h3",{class:"text-xl font-semibold text-gray-900 dark:text-white"}," Tupad Code ")],-1),he=(0,r.Lk)("label",{for:"Code",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Input Code",-1),ke={class:"flex items-center mt-4"},pe=(0,r.Lk)("label",{for:"status-checker",class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Check Your Request Status",-1),ye=(0,r.Lk)("div",{class:"flex justify-end p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600"},[(0,r.Lk)("button",{type:"submit",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"},"Submit")],-1);function fe(e,a,t,S,q,I){const R=(0,r.g2)("Head"),H=(0,r.g2)("Foot");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",d,[(0,r.bF)(R),(0,r.Lk)("div",{class:(0,o.C4)(["flex-grow p-4 mt-[5vh]",{blur:q.showModal}])},[(0,r.Lk)("div",l,[i,(0,r.Lk)("form",{onSubmit:a[22]||(a[22]=(0,s.D$)(((...e)=>I.saveToDatabase&&I.saveToDatabase(...e)),["prevent"])),class:"max-w-full mx-auto w-full ml-0"},[(0,r.Lk)("div",n,[(0,r.Lk)("div",c,[u,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>q.firstname=e),type:"text",id:"FirstName",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"Juan",required:""},null,512),[[s.Jo,q.firstname]])]),(0,r.Lk)("div",g,[b,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>q.middlename=e),type:"text",id:"MiddleName",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"Martinez",required:""},null,512),[[s.Jo,q.middlename]])]),(0,r.Lk)("div",m,[h,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>q.lastname=e),type:"text",id:"LastName",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"Dela Cruz",required:""},null,512),[[s.Jo,q.lastname]])])]),(0,r.Lk)("div",k,[(0,r.Lk)("div",p,[y,(0,r.Lk)("div",f,[x,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>q.birthday=e),onInput:a[4]||(a[4]=(...e)=>I.calculateAge&&I.calculateAge(...e)),id:"Birthday",type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full ps-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"Select date"},null,544),[[s.Jo,q.birthday]])])]),(0,r.Lk)("div",v,[w,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>q.age=e),readonly:"",type:"number",id:"Age",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",required:""},null,512),[[s.Jo,q.age]])]),(0,r.Lk)("div",L,[C,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":a[6]||(a[6]=e=>q.gender=e),id:"Gender",class:"text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:outline-none focus:ring-orange-300 w-full font-small rounded-lg text-sm py-2.5 text-center inline-flex items-center dark:bg-orange-600 dark:hover:bg-orange-700 dark:focus:ring-orange-800"},O,512),[[s.u1,q.gender]])]),(0,r.Lk)("div",M,[_,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":a[7]||(a[7]=e=>q.civil_status=e),id:"Civil Status",class:"text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:outline-none focus:ring-orange-300 w-full font-small rounded-lg text-sm py-2.5 text-center inline-flex items-center dark:bg-orange-600 dark:hover:bg-orange-700 dark:focus:ring-orange-800"},V,512),[[s.u1,q.civil_status]])]),(0,r.Lk)("div",D,[N,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[8]||(a[8]=e=>q.benificiaryfullname=e),type:"text",id:"FullName",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"Juan M. Dela Cruz",required:""},null,512),[[s.Jo,q.benificiaryfullname]])]),(0,r.Lk)("div",T,[A,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[9]||(a[9]=e=>q.contactnumber=e),type:"number",id:"ContactNumber",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"09123456789",required:""},null,512),[[s.Jo,q.contactnumber]])])]),B,(0,r.Lk)("div",F,[(0,r.Lk)("div",E,[U,(0,r.bo)((0,r.Lk)("select",{onChange:a[10]||(a[10]=(...a)=>e.handleCity&&e.handleCity(...a)),id:"Province","onUpdate:modelValue":a[11]||(a[11]=e=>q.provinceto=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",required:""},P,544),[[s.u1,q.provinceto]])]),(0,r.Lk)("div",J,[G,(0,r.bo)((0,r.Lk)("select",{onChange:a[12]||(a[12]=(...e)=>I.handleBarangay&&I.handleBarangay(...e)),id:"Municipality","onUpdate:modelValue":a[13]||(a[13]=e=>q.municipality=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",required:""},[j,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(q.cities,(e=>((0,r.uX)(),(0,r.CE)("option",{value:e.city_code,key:e.city_code},(0,o.v_)(e.city_name),9,X)))),128))],544),[[s.u1,q.municipality]])]),(0,r.bo)((0,r.Lk)("input",{type:"hidden","onUpdate:modelValue":a[14]||(a[14]=e=>q.selectedMunicipality=e),id:"SelectedMunicipality",readonly:""},null,512),[[s.Jo,q.selectedMunicipality]]),(0,r.bo)((0,r.Lk)("input",{type:"hidden","onUpdate:modelValue":a[15]||(a[15]=e=>q.selectedBarangay=e),id:"SelectedBarangay",readonly:""},null,512),[[s.Jo,q.selectedBarangay]]),(0,r.Lk)("div",Y,[K,(0,r.bo)((0,r.Lk)("select",{id:"Barangay","onUpdate:modelValue":a[16]||(a[16]=e=>q.barangay=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",required:""},[z,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(q.barangays,(e=>((0,r.uX)(),(0,r.CE)("option",{value:e.brgy_code,key:e.brgy_code},(0,o.v_)(e.brgy_name),9,Z)))),128))],512),[[s.u1,q.barangay]])]),(0,r.Lk)("div",W,[$,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[17]||(a[17]=e=>q.sitio=e),type:"text",id:"Sitio",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"Sitio",required:""},null,512),[[s.Jo,q.sitio]])])]),Q,(0,r.Lk)("div",ee,[(0,r.Lk)("div",ae,[te,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[18]||(a[18]=e=>q.idNum=e),type:"text",id:"IDNO",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"Heart Disease",required:""},null,512),[[s.Jo,q.idNum]])]),(0,r.Lk)("div",re,[oe,(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":a[19]||(a[19]=e=>q.typeOfRequest=e),onChange:a[20]||(a[20]=(...e)=>I.handleTypeOfRequestChange&&I.handleTypeOfRequestChange(...e)),id:"TypeOfRequest",class:"text-white bg-orange-700 hover:bg-orange-800 focus:ring-4 focus:outline-none focus:ring-orange-300 font-small rounded-lg text-sm w-full py-2.5 text-center inline-flex items-center dark:bg-orange-600 dark:hover:bg-orange-700 dark:focus:ring-orange-800"},de,544),[[s.u1,q.typeOfRequest]])]),"OTHERS"===q.typeOfRequest?((0,r.uX)(),(0,r.CE)("div",le,[ie,(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[21]||(a[21]=e=>q.otherRequestValue=e),type:"text",id:"OtherRequest",disabled:I.isOtherRequestDisabled,class:"bg-orange-300 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-orange-500 focus:border-orange-500 block w-full mt-2 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-orange-500 dark:focus:border-orange-500",placeholder:"SSS",required:""},null,8,ne),[[s.Jo,q.otherRequestValue]])])):(0,r.Q3)("",!0)]),ce],32)])],2),(0,r.Lk)("div",null,[(0,r.bF)(H)])]),(0,r.Lk)("div",ue,[(0,r.Lk)("div",ge,[(0,r.Lk)("div",be,[me,(0,r.Lk)("form",{onSubmit:a[26]||(a[26]=(0,s.D$)(((...e)=>I.submitForm&&I.submitForm(...e)),["prevent"])),class:"max-w-sm mx-auto mt-5 mb-5"},[he,(0,r.bo)((0,r.Lk)("input",{required:"","onUpdate:modelValue":a[23]||(a[23]=e=>q.accessCode=e),type:"text",id:"Code","aria-describedby":"helper-text-explanation",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Code Here"},null,512),[[s.Jo,q.accessCode]]),(0,r.Lk)("div",ke,[(0,r.bo)((0,r.Lk)("input",{id:"status-checker",type:"checkbox","onUpdate:modelValue":a[24]||(a[24]=e=>q.statusChecked=e),onChange:a[25]||(a[25]=(...a)=>e.handleStatusChange&&e.handleStatusChange(...a)),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,544),[[s.lH,q.statusChecked]]),pe]),ye],32)])])])],64)}var xe=t(39658),ve=t(67407),we=t(27411),Le=t(80259),Ce=t(92689),Se=t(89029),qe=t.n(Se),Ie=t(55997);const Oe=(0,we.dj)();var Me={components:{Head:ve.A,Foot:Le.A,SelectPhilippinesAddress:qe()},data(){return{provinces:[],cities:[],barangays:[],provinceto:"1752",municipality:null,barangay:null,typeOfRequest:"",otherRequestValue:"",firstname:"",middlename:"",lastname:"",age:null,birthday:"",gender:"",province:"Oriental Mindoro",benificiaryfullname:"",contactnumber:"",idNum:"",sitio:"",civil_status:"",selectedMunicipality:"",selectedBarangay:"",inputed_code:"",showModal:!0,accessCode:"",accessGranted:!1,statusChecked:!1}},mounted(){(0,Ce.A)("#Birthday",{}),this.fetchCities(),(0,xe.Tp)();const e=localStorage.getItem("accessGranted");"true"===e&&(this.accessGranted=!0,this.showModal=!1,this.hideModal(),document.querySelector(".flex-grow").classList.remove("blur")),setTimeout((()=>{localStorage.removeItem("accessGranted"),localStorage.removeItem("tupad_codeId"),localStorage.removeItem("captain_id")}),6e5)},methods:{submitForm(){this.statusChecked?this.checkStatus():this.submitCode()},checkStatus(){Ie.A.post("/api/dole/tupad-request-status-checker",{code:this.accessCode}).then((e=>{200===e.status&&(this.accessCode="",this.statusChecked=!1,Oe.success(e.data))})).catch((e=>{e.response?404===e.response.status&&(this.accessCode="",this.statusChecked=!1,Oe.error("Invalid Tupad code")):(this.accessCode="",this.statusChecked=!1,console.error("Error setting up the request:",e.message),Oe.error("An error occurred. Please try again later."))}))},submitCode(){Ie.A.post("/api/dole/code-checker",{code:this.accessCode}).then((e=>{200===e.status&&(this.accessCode="",this.accessGranted=!0,this.showModal=!1,document.querySelector(".flex-grow").classList.remove("blur"),Oe.success("Code Accepted"),localStorage.setItem("tupad_codeId",e.data.encrypted_id.tupad_codeId),localStorage.setItem("captain_id",e.data.encrypted_id.captain_id),localStorage.setItem("accessGranted","true"),this.hideModal())})).catch((e=>{e.response?404===e.response.status?(this.accessCode="",Oe.error("Code not found")):400===e.response.status?(this.accessCode="",Oe.error("Code is inactive")):(this.accessCode="",Oe.error("An error occurred. Please try again later.")):e.request?(this.accessCode="",console.error("No response received:",e.request),Oe.error("An error occurred. Please try again later.")):(this.accessCode="",console.error("Error setting up the request:",e.message),Oe.error("An error occurred. Please try again later."))}))},hideModal(){document.getElementById("static-modal").classList.add("hidden")},fetchCities(){(0,Se.cities)(this.provinceto).then((e=>{e&&e.length>0?(this.cities=e,this.municipality=null,this.handleBarangay()):console.error("Empty response received for cities.")})).catch((e=>{console.error("Error fetching cities:",e)}))},handleBarangay(){this.municipality&&(0,Se.barangays)(this.municipality).then((e=>{this.barangays=e,this.selectedMunicipality=this.cities.find((e=>e.city_code===this.municipality))?.city_name||"",this.selectedBarangay=this.barangays.length>0?this.barangays[0].brgy_name:""})).catch((e=>{console.error("Error fetching barangays:",e)}))},handleTypeOfRequestChange(){"OTHERS"!==this.typeOfRequest&&(this.otherRequestValue="")},saveToDatabase(){const e=this.birthday.split("/").reverse().join("-"),a={firstname:this.firstname,middlename:this.middlename,lastname:this.lastname,age:this.age,birthday:e,gender:this.gender,province:this.province,municipality:this.selectedMunicipality,barangay:this.selectedBarangay,benificiaryfullname:this.benificiaryfullname,contactnumber:this.contactnumber,civilstatus:this.civil_status,idNum:this.idNum,sitio:this.sitio,idType:"OTHERS"===this.typeOfRequest?this.otherRequestValue:this.typeOfRequest,used_code_id:localStorage.getItem("tupad_codeId"),given_by_captainID:localStorage.getItem("captain_id")};Ie.A.post("/api/dole/add-tupad",a).then((e=>{this.firstname="",this.middlename="",this.lastname="",this.age=null,this.birthday="",this.gender="",this.province="",this.civil_status="",this.selectedMunicipality="",this.selectedBarangay="",this.benificiaryfullname="",this.contactnumber="",this.idNum="",this.sitio="",this.typeOfRequest="",Oe.success("Tupad Successfully Send"),localStorage.removeItem("accessGranted"),localStorage.removeItem("tupad_codeId"),localStorage.removeItem("captain_id")})).catch((e=>{console.error(e.response.data),Oe.error(e.response.data)}))},calculateAge(){if(!this.birthday)return;const e=new Date,a=new Date(this.birthday);let t=e.getFullYear()-a.getFullYear();const r=e.getMonth()-a.getMonth();(r<0||0===r&&e.getDate()<a.getDate())&&t--,this.age=t}},watch:{barangay(e){const a=this.barangays.find((a=>a.brgy_code===e));this.selectedBarangay=a?a.brgy_name:""}},computed:{isOtherRequestDisabled(){return"OTHERS"!==this.typeOfRequest}}},_e=t(71241);const Re=(0,_e.A)(Me,[["render",fe]]);var Ve=Re},2325:function(e,a,t){e.exports=t.p+"img/kpms.03052075.png"}}]);
//# sourceMappingURL=566.67b297cc.js.map